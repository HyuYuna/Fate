<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="replyDao">
	 
	<!-- 댓글 목록 -->
	<select id="getReplyList" resultType="replyVO">
		SELECT
			NUM ,
			SERIAL ,
			CONTENT ,
			REG_ID ,
			REG_DT ,
			EDIT_DT
		FROM
			PD_REPLY
		WHERE
			SERIAL = #{serial}
		ORDER BY
			REG_DT DESC
	</select>
	
	<!-- 댓글 저장 -->
	<insert id="saveReply" parameterType="replyVO">
		INSERT INTO PD_REPLY
			(
				SERIAL, 
				CONTENT, 
				REG_ID, 
				REG_DT, 
				EDIT_DT
			) VALUES (
				#{serial},
				#{content},
				#{reg_id},
				now(),
				now()
			)
	</insert>
	
	<!-- 댓글 수정 -->
	<update id="updateReply" parameterType="replyVO">
		UPDATE 
			PD_REPLY
		SET
			CONTENT = #{content}, 
			EDIT_DT = now()
		WHERE
			num = #{num}
	</update>

	<!-- 댓글 삭제 -->
	<delete id="deleteReply" parameterType="int">
		DELETE FROM 
			PD_REPLY
		WHERE
			num = #{num}
	</delete>






	
</mapper>