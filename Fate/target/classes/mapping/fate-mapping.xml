<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="fateDao">

	<!-- 로그인 -->
	<select id="login" parameterType="userVO" resultType="userVO">
	  <![CDATA[
	   SELECT 
	   	   * 
	   FROM 
	   	   USER 
	   WHERE 
	   	   ENC_PASSWORD = #{checkPwd}
	   AND 
	   	   USER_ID = #{userId}
	  ]]>
	</select>
	
	<!-- 아이디 중복체크 -->
	 <select id="idCheck" parameterType="String" resultType="Integer">
	 	SELECT
	 		count(*)
		FROM
			USER
		WHERE 
			USER_ID = #{userId}
	 </select>
	 
	 <!-- 고객 가입 -->
	<insert id="joinUser" parameterType="userVO">
	 <![CDATA[
		INSERT INTO USER
		(
			USER_ID, 
			PASSWORD, 
			ENC_PASSWORD
		) VALUES (
			#{userId},
			#{password}, 
			#{encPassword}
		) 	
	 ]]>
	 </insert>
	 
	 <!-- 고객 수정 -->
	 <update id="editUser" parameterType="userVO">
	  <![CDATA[
		UPDATE 
			USER
		SET
			USER_ID = #{userId} ,
			PASSWORD = #{password}, 
			ENC_PASSWORD = #{encPassword}
		WHERE
			USER_ID = #{userId}
	 ]]>
	</update>
	 
	 
	
</mapper>